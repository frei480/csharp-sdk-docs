# База знаний по классу TransformationGroup для RAG-системы

## Общая информация

Класс `TransformationGroup` в T-Flex CAD API представляет собой группу трансформаций, которая может содержать различные типы преобразований геометрии. Этот класс наследуется от `TransformationGroupBase` и является частью системы трансформаций объектов в 3D-пространстве.

## Основные классы

### TransformationGroup
- **Наследуется от:** `TransformationGroupBase`
- **Описание:** Группа трансформаций, содержащая набор преобразований, которые применяются к 3D-объектам.

### TransformationGroupBase
- **Описание:** Базовый класс для всех групп трансформаций.
- **Наследники:** `TransformationGroup`

### TransformationGroupContainer
- **Описание:** Контейнер, управляющий коллекцией групп трансформаций, связанных с 3D-объектом.

## Свойства TransformationGroup

### IndexInContainer
- **Тип:** `int` (только для чтения)
- **Описание:** Возвращает индекс группы трансформации в контейнере.

### IsValid
- **Тип:** `bool` (только для чтения)
- **Описание:** Возвращает true, если группа трансформаций все еще находится в контейнере трансформаций. Если false, объект устарел и его использование приведет к исключениям.

### Name
- **Тип:** `string`
- **Описание:** Имя группы трансформаций. Может быть использовано для идентификации группы.

### Suppressed
- **Тип:** `Parameter`
- **Описание:** Параметр подавления группы трансформаций. Если значение больше 0, группа подавлена и не применяется к объекту.

### TransfContainer
- **Тип:** `TransformationGroupContainer` (только для чтения)
- **Описание:** Возвращает контейнер групп трансформаций, которому принадлежит данная группа.

## Методы TransformationGroup

### GetLCS()
- **Возвращает:** `LCS`
- **Описание:** Получает локальную систему координат (ЛСК) группы трансформации.

### SetLCS(LCS lcs, bool recalcCoords)
- **Параметры:**
  - `lcs` (LCS): Задаваемая ЛСК
  - `recalcCoords` (bool): Пересчитать текущие координаты объекта с учётом новой ЛСК
- **Описание:** Задает локальную систему координат группы трансформации.

## Свойства TransformationGroupContainer

### Owner
- **Тип:** `Object3D` (только для чтения)
- **Описание:** Возвращает 3D-объект, которому принадлежит контейнер трансформаций.

### SourceCSType
- **Тип:** `TransformationLCSType`
- **Описание:** Тип исходной системы координат преобразования.

## Методы TransformationGroupContainer

### AddBaseTransfGroup()
- **Возвращает:** `TransformationGroup`
- **Описание:** Добавляет новую группу базовых трансформаций в конец контейнера.

### GetBaseTransfGroups()
- **Возвращает:** `List<TransformationGroup>`
- **Описание:** Получает список всех групп базовых трансформаций в контейнере.

### GetBaseTransfGroupAt(int index)
- **Параметры:**
  - `index` (int): Индекс требуемой группы трансформаций
- **Возвращает:** `TransformationGroup`
- **Описание:** Получает группу базовых трансформаций в контейнере с указанным индексом.

### GetBaseTransfCount()
- **Возвращает:** `int`
- **Описание:** Получает общее число базовых трансформаций в контейнере.

### DeleteBaseTransfGroup(int index)
- **Параметры:**
  - `index` (int): Индекс удаляемой группы
- **Описание:** Удаляет группу базовых трансформаций из контейнера по индексу.

### DeleteAllBaseTransfGroups()
- **Описание:** Удаляет все группы базовых трансформаций из контейнера.

### MoveBaseTransfGroupUp(TransformationGroup transfGroup)
- **Параметры:**
  - `transfGroup` (TransformationGroup): Перемещаемая группа
- **Возвращает:** `TransformationGroup`
- **Описание:** Перемещает базовую группу трансформаций на одну позицию вверх. В случае успеха исходная группа становится устаревшей (IsValid == false).

### MoveBaseTransfGroupDown(TransformationGroup transfGroup)
- **Параметры:**
  - `transfGroup` (TransformationGroup): Перемещаемая группа
- **Возвращает:** `TransformationGroup`
- **Описание:** Перемещает базовую группу трансформаций на одну позицию вниз. В случае успеха исходная группа становится устаревшей (IsValid == false).

### MakeNonAssociative()
- **Возвращает:** `bool`
- **Описание:** Заменяет все преобразования одним неассоциативным преобразованием.

## Методы TransformationGroupBase

### AddMoveTransf(TransformationCoordinate direction, Parameter offset)
- **Параметры:**
  - `direction` (TransformationCoordinate): Ось, по которой производится перемещение
  - `offset` (Parameter): Отступ перемещения
- **Описание:** Добавляет трансформацию "Перемещение" к группе трансформаций.

### AddRotateTransf(TransformationCoordinate direction, Parameter angle)
- **Параметры:**
  - `direction` (TransformationCoordinate): Ось, вокруг которой производится вращение
  - `angle` (Parameter): Угол вращения
- **Описание:** Добавляет трансформацию "Вращение" к группе трансформаций.

### AddMoveToNodeTransf(ModelPoint3D point)
- **Параметры:**
  - `point` (ModelPoint3D): Точка, до которой производится перемещение
- **Описание:** Добавляет трансформации "Перемещение до точки" к группе трансформаций. Трансформации добавляются для всех осей.

### AddMoveToNodeTransf(TransformationCoordinate axis, ModelPoint3D point)
- **Параметры:**
  - `axis` (TransformationCoordinate): Ось, вдоль которой производится перемещение
  - `point` (ModelPoint3D): Точка, до которой производится перемещение
- **Описание:** Добавляет трансформацию "Перемещение до точки" к группе трансформаций.

### AddSetAxisTransf(TransformationCoordinate axisType, ModelAxis axis)
- **Параметры:**
  - `axisType` (TransformationCoordinate): Поворачиваемая ось
  - `axis` (ModelAxis): Ось, с которым должна совпасть поворачиваемая ось
- **Описание:** Добавляет трансформацию "Совместить ось полностью" к группе трансформаций.

### AddSetAxisDirectionTransf(TransformationCoordinate axis, ModelDirection direction)
- **Параметры:**
  - `axis` (TransformationCoordinate): Поворачиваемая ось
  - `direction` (ModelDirection): Направление, с которым должна совпасть ось
- **Описание:** Добавляет трансформацию "Повернуть параллельно направлению" к группе трансформаций.

### AddDirectAxisToPointTransf(TransformationCoordinate axis, ModelPoint3D point)
- **Параметры:**
  - `axis` (TransformationCoordinate): Направляемая ось
  - `point` (ModelPoint3D): Точка, на которую направляется ось
- **Описание:** Добавляет трансформацию "Направить ось на точку" к группе трансформаций.

### AddDirectAxisByAxisToPointTransf(TransformationCoordinate stationaryAxis, TransformationCoordinate rotatingAxis, ModelPoint3D point)
- **Параметры:**
  - `stationaryAxis` (TransformationCoordinate): Неподвижная ось
  - `rotatingAxis` (TransformationCoordinate): Направляемая ось
  - `point` (ModelPoint3D): Точка, на которую направляется rotatingAxis ось
- **Описание:** Добавляет трансформацию "Повернуть ось вокруг оси по направлению к точке" к группе трансформаций.

### AddDirectAxisByAxisToDirectionTransf(TransformationCoordinate stationaryAxis, TransformationCoordinate rotatingAxis, ModelDirection direction)
- **Параметры:**
  - `stationaryAxis` (TransformationCoordinate): Неподвижная ось
  - `rotatingAxis` (TransformationCoordinate): Направляемая ось
  - `direction` (ModelDirection): Направление для rotatingAxis
- **Описание:** Добавляет трансформацию "Повернуть ось вокруг оси по направлению" к группе трансформаций.

### AddMoveToSurfaceTransf(TransformationCoordinate axis, ModelSurface surface)
- **Параметры:**
  - `axis` (TransformationCoordinate): Ось, вдоль которой производится перемещение
  - `surface` (ModelSurface): Плоскость, до которой производится перемещение
- **Описание:** Добавляет трансформацию "Перемещение до плоскости" к группе трансформаций.

### AddMoveToCurveTransf(TransformationCoordinate axis, ModelCurve curve)
- **Параметры:**
  - `axis` (TransformationCoordinate): Ось, вдоль которой производится перемещение
  - `curve` (ModelCurve): Кривая, до которой производится перемещение
- **Описание:** Добавляет трансформацию "Перемещение до кривой" к группе трансформаций.

### AddMap(AffineTransformation map)
- **Параметры:**
  - `map` (AffineTransformation): Матрица аффинного преобразования
- **Описание:** Добавляет матрицу преобразований к группе трансформаций.

## Перечисления

### TransformationCoordinate
- **Значения:** X, Y, Z
- **Описание:** Определяет координатную ось для трансформаций.

### TransformationLCSType
- **Описание:** Тип локальной системы координат преобразования.

## Вспомогательные классы

### LCS (Local Coordinate System)
- **Описание:** Локальная система координат, используемая для определения системы координат группы трансформаций.

### ModelPoint3D
- **Описание:** Трехмерная точка в пространстве модели.

### ModelAxis
- **Описание:** Ось в трехмерном пространстве модели.

### ModelDirection
- **Описание:** Направление в трехмерном пространстве модели.

### ModelSurface
- **Описание:** Поверхность в трехмерном пространстве модели.

### ModelCurve
- **Описание:** Кривая в трехмерном пространстве модели.

### AffineTransformation
- **Описание:** Аффинная трансформация, представленная матрицей преобразований.

### Parameter
- **Описание:** Параметр, который может использоваться для задания значений трансформаций.

## Практическое применение

### Типичные сценарии использования:
1. Позиционирование 3D-объектов в пространстве
2. Создание параметрически управляемых сборок
3. Реализация анимационных эффектов
4. Создание зеркальных копий объектов
5. Выравнивание объектов по геометрическим элементам

### Рекомендации по использованию:
1. Используйте именованные группы трансформаций для лучшей организации
2. Применяйте параметрическое управление для гибкости
3. Следите за порядком трансформаций, так как он влияет на результат
4. Используйте подавление групп для условного применения трансформаций
5. Применяйте неассоциативные трансформации для упрощения сложных преобразований

Эта база знаний предоставляет полное описание возможностей класса TransformationGroup и связанных с ним компонентов в T-Flex CAD API, что делает ее пригодной для использования в RAG-системах.