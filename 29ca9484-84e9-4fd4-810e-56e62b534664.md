

Руководство по T-FLEX CAD Open API

# Эквидистанта  
  
---  
      
    
    public static void OffsetConstruction()//эквидистанта
    {        
        Document document = TFlex.Application.ActiveDocument;//Получение активного документа
        document.BeginChanges("Построение эллипса");//Открытие блока изменений документа
    
        //Создаем 2D-узлы
        int r1 = 50;
        int r2 = 30;
    
        FreeNode fnCenter = new FreeNode(document, 50, 300);
        FreeNode fn1 = new FreeNode(document, fnCenter.X.Value + r1, fnCenter.Y.Value);
        FreeNode fn2 = new FreeNode(document, fnCenter.X.Value, fnCenter.Y.Value + r2);
    
        EllipseConstruction ec = new EllipseConstruction(document);
        ec.SetCenterAndTwoNodes(fnCenter, fn1, fn2);//эллипс через центр и два узла
    
        document.EndChanges();//Закрытие блока изменений документа
    
        document.BeginChanges("Построение эквидистанты");//Открытие блока изменений документа
    
        //Создаем объект OffsetConstruction
        OffsetConstruction oc = new OffsetConstruction(document);
        oc.Source = ec;
        oc.OffsetNode = new FreeNode(document, 50, 400);
        oc.Color = 100;//цвет
    
        document.EndChanges();//Закрытие блока изменений документа
    }